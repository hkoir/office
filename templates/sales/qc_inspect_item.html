
{% extends 'base.html' %}
{% load static %}

{% block content %}



<div class="container-fluid py-4">
  <!-- Header Section -->
  <div class="text-center mb-4">
    <h3 class="fw-bold text-primary">Quality Control Inspection</h3>
    <p class="text-muted mb-1">
      <strong>Sale Order ID:</strong> {{ sale_dispatch_item.dispatch_item.sale_order.order_id}} |
      <strong>Product</strong> {{sale_dispatch_item.dispatch_item.product.name }}
    </p>
  </div>

  <!-- Details Card -->
  <div class="card shadow-sm mb-4 border-0 rounded-3">
    <div class="card-body">
      <div class="row mb-2">
        <div class="col-md-6">
          <p class="mb-1"><strong>Product:</strong> {{ sale_dispatch_item.dispatch_item.product.name }}</p>
          <p class="mb-1"><strong>Customer:</strong> {{ sale_dispatch_item.dispatch_item.sale_order.customer.name }}</p>
        </div>
        <div class="col-md-6">
          <p class="mb-1"><strong>Total Quantity:</strong> {{ sale_dispatch_item.dispatch_item.quantity }}</p>
          <p class="mb-0">
            <strong>Batch:</strong>
            <a href="{% url 'purchase:batch_details' sale_dispatch_item.dispatch_item.batch.id %}" 
               class="text-decoration-none text-primary fw-semibold">
              {{ sale_dispatch_item.dispatch_item.batch.batch_number }}
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- QC Form -->
  <div class="card border-0 shadow-sm rounded-3">
    <div class="card-header bg-light">
      <h5 class="mb-0 fw-semibold">Inspection Details</h5>
    </div>
    <div class="card-body">
      <form method="post" class="row g-3">
        {% csrf_token %}

        
        <div class="col-md-6">
          <label class="form-label fw-semibold">Total Quantity</label>
          <input type="text" class="form-control" value="{{ form.total_quantity.value }}" readonly>
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">Good Quantity</label>
          {{ form.good_quantity }}
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">Bad Quantity</label>
          {{ form.bad_quantity }}
        </div>

         <div class="col-md-6">
            <label class="form-label fw-semibold">Warehouse</label>
            {{ form.warehouse }}
        </div>

        <div class="col-md-6">
            <label class="form-label fw-semibold">Location</label>
            {{ form.location }}
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">Inspection Date</label>
          {{ form.inspection_date }}
        </div>



        <div class="col-12">
          <label class="form-label fw-semibold">Comments</label>
          {{ form.comments }}
        </div>

        <div class="col-12 d-flex justify-content-end mt-3">
          <a href="{% url 'sales:qc_dashboard' %}" class="btn btn-outline-secondary me-2">
            <i class="bi bi-arrow-left"></i> Back
          </a>
          <button type="submit" class="btn btn-success px-4">
            <i class="bi bi-check-circle"></i> Save QC Results
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
